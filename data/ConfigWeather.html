<script>
  function showHide(elementID) {
  var x = document.getElementById(elementID);
  if (x.style.display === "none") { x.style.display = "block"; } else { x.style.display = "none"; }
}

function isNumberKey(e) { var h = e.which ? e.which : event.keyCode; return !(h > 31 && (h < 48 || h > 57)) }
</script>
<form class='w3-container' action='/updateWeatherConfig' method='get'>
  <p><input name='metric' class='w3-check' type='checkbox' %USE_METRIC%> Use Metric (Celsius)</p>
  <h3>Open Weather Map</h3>
  <p><input name='useOWM' class='w3-check' type='checkbox' onclick='showHide("OWMSettings")' %USE_OWM%> Get Weather Data from OpenWeatherMap.org</p>
  <div id="OWMSettings" style='display:none'>
    <p><label>%CITY_NAME% (<a href='http://openweathermap.org/find' target='_BLANK'><i class='fa fa-search'></i>Search for City ID)</a></label>
      <input class='w3-input w3-border w3-margin-bottom' type='text' name='cityID' value='%CITY%' onkeypress='return isNumberKey(event)'></p>
    <p><label>City nickname (leave blank to use "official" city name)</a></label>
      <input class='w3-input w3-border w3-margin-bottom' type='text' name='nickname' value='%NICKNAME%'></p>
    <label><a href='https://openweathermap.org/' target='_BLANK'>OpenWeatherMap API Key</a></label>
    <input class='w3-input w3-border w3-margin-bottom' type='text' name='openWeatherMapApiKey' value='%WEATHER_KEY%' maxlength='60'>
    <p>Weather Language: <select class='w3-option w3-padding' name='language'>
        <option %SLar%>ar</option>
        <option %SLbg%>bg</option>
        <option %SLca%>ca</option>
        <option %SLcz%>cz</option>
        <option %SLde%>de</option>
        <option %SLel%>el</option>
        <option %SLen%>en</option>
        <option %SLfa%>fa</option>
        <option %SLfi%>fi</option>
        <option %SLfr%>fr</option>
        <option %SLgl%>gl</option>
        <option %SLhr%>hr</option>
        <option %SLhu%>hu</option>
        <option %SLit%>it</option>
        <option %SLja%>ja</option>
        <option %SLkr%>kr</option>
        <option %SLla%>la</option>
        <option %SLlt%>lt</option>
        <option %SLmk%>mk</option>
        <option %SLnl%>nl</option>
        <option %SLpl%>pl</option>
        <option %SLpt%>pt</option>
        <option %SLro%>ro</option>
        <option %SLru%>ru</option>
        <option %SLse%>se</option>
        <option %SLsk%>sk</option>
        <option %SLsl%>sl</option>
        <option %SLes%>es</option>
        <option %SLtr%>tr</option>
        <option %SLua%>ua</option>
        <option %SLvi%>vi</option>
        <option %SLzh_cn%>zh_cn</option>
        <option %SLzh_tw%>zh_tw</option>
      </select>
    </p>
  </div>
  <script>
    if (document.getElementsByName('useOWM')[0].checked) { document.getElementById("OWMSettings").style.display = "block"; }
  </script>
  <button class='w3-button w3-block w3-grey w3-section w3-padding' type='submit'>Save</button>
</form>